<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ITX SHOP MEER - Premium Horology & Artisan Collection</title>
    
    <!-- SIMPLE Tailwind CSS - No warnings -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      // Suppress Tailwind warning
      tailwind.config = { important: true };
    </script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Playfair+Display:ital,wght@0,700;1,700&display=swap" rel="stylesheet">
    
    <style>
      body { 
        font-family: 'Inter', sans-serif; 
        background: white;
        color: #111;
        margin: 0;
        padding: 0;
      }
      * {
        box-sizing: border-box;
      }
    </style>
    
    <!-- SAFE TikTok Pixel - Won't break anything -->
    <script>
    // Completely safe TikTok Pixel - won't execute if invalid
    setTimeout(function() {
      try {
        // Only run if we have a valid looking pixel ID
        var pixelId = 'YOUR_TIKTOK_PIXEL_ID_HERE';
        if (pixelId && pixelId.length > 5 && pixelId !== 'YOUR_TIKTOK_PIXEL_ID_HERE') {
          !function(w,d,t){
            w.TiktokAnalyticsObject=t;
            var ttq=w[t]=w[t]||[];
            ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"];
            ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))};};
            for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);
            ttq.load=function(e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://analytics.tiktok.com/i18n/pixel/events.js?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);ttq._i=e;ttq._u=n.src;};
            ttq.load(pixelId);
            ttq.page();
          }(window, document, 'ttq');
        } else {
          console.log('TikTok Pixel: Using placeholder ID - no tracking');
          // Create safe dummy object
          window.ttq = window.ttq || {
            track: function() {},
            page: function() {}
          };
        }
      } catch(e) {
        console.log('TikTok Pixel safe mode');
        window.ttq = window.ttq || { track: function(){}, page: function(){} };
      }
    }, 2000); // Load after 2 seconds to not block rendering
    </script>
  </head>
  
  <body>
    <!-- IMMEDIATE CONTENT - shows right away -->
    <div class="min-h-screen bg-white">
      <!-- Header -->
      <header class="border-b py-4 px-6">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
          <h1 class="text-2xl font-bold">ITX SHOP MEER</h1>
          <div class="flex items-center space-x-6">
            <a href="#" class="hover:text-gray-600">Shop</a>
            <a href="#" class="hover:text-gray-600">Collections</a>
            <a href="#" class="hover:text-gray-600">About</a>
            <a href="#" class="hover:text-gray-600">Contact</a>
            <button class="bg-black text-white px-4 py-2 rounded">Cart (0)</button>
          </div>
        </div>
      </header>
      
      <!-- Hero Section -->
      <section class="py-16 px-6 text-center">
        <h2 class="text-4xl md:text-5xl font-bold mb-4">Premium Horology & Artisan Collection</h2>
        <p class="text-gray-600 text-lg max-w-2xl mx-auto mb-8">
          Discover exquisite timepieces and artisan crafts curated for the discerning collector.
        </p>
        <button class="bg-black text-white px-8 py-3 rounded-lg text-lg font-medium">
          Shop Now
        </button>
      </section>
      
      <!-- Featured Products -->
      <section class="py-12 px-6 max-w-7xl mx-auto">
        <h3 class="text-3xl font-bold mb-8 text-center">Featured Collections</h3>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <!-- Product 1 -->
          <div class="border rounded-lg overflow-hidden shadow-sm">
            <div class="h-64 bg-gray-100 flex items-center justify-center">
              <i class="fas fa-clock text-4xl text-gray-300"></i>
            </div>
            <div class="p-6">
              <h4 class="font-bold text-xl mb-2">Luxury Watch</h4>
              <p class="text-gray-600 mb-4">Precision timepiece with artisan craftsmanship</p>
              <div class="flex justify-between items-center">
                <span class="font-bold text-lg">$1,299.00</span>
                <button class="bg-black text-white px-4 py-2 rounded">Add to Cart</button>
              </div>
            </div>
          </div>
          
          <!-- Product 2 -->
          <div class="border rounded-lg overflow-hidden shadow-sm">
            <div class="h-64 bg-gray-100 flex items-center justify-center">
              <i class="fas fa-gem text-4xl text-gray-300"></i>
            </div>
            <div class="p-6">
              <h4 class="font-bold text-xl mb-2">Artisan Jewelry</h4>
              <p class="text-gray-600 mb-4">Handcrafted pieces with premium materials</p>
              <div class="flex justify-between items-center">
                <span class="font-bold text-lg">$899.00</span>
                <button class="bg-black text-white px-4 py-2 rounded">Add to Cart</button>
              </div>
            </div>
          </div>
          
          <!-- Product 3 -->
          <div class="border rounded-lg overflow-hidden shadow-sm">
            <div class="h-64 bg-gray-100 flex items-center justify-center">
              <i class="fas fa-glasses text-4xl text-gray-300"></i>
            </div>
            <div class="p-6">
              <h4 class="font-bold text-xl mb-2">Designer Eyewear</h4>
              <p class="text-gray-600 mb-4">Luxury frames with optical precision</p>
              <div class="flex justify-between items-center">
                <span class="font-bold text-lg">$459.00</span>
                <button class="bg-black text-white px-4 py-2 rounded">Add to Cart</button>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- Admin Section (Hidden by default) -->
      <div id="admin-section" style="display: none;" class="max-w-7xl mx-auto px-6 py-8">
        <h3 class="text-2xl font-bold mb-6">Admin Panel</h3>
        <div class="bg-gray-50 p-6 rounded-lg">
          <h4 class="font-bold mb-4">Product Management</h4>
          <div id="product-list" class="mb-6">
            <p>Loading products...</p>
          </div>
          <button onclick="loadProducts()" class="bg-blue-600 text-white px-4 py-2 rounded">
            Load Products
          </button>
        </div>
      </div>
      
      <!-- Footer -->
      <footer class="border-t py-8 px-6 mt-12">
        <div class="max-w-7xl mx-auto text-center">
          <p class="text-gray-600">© 2024 ITX SHOP MEER. All rights reserved.</p>
          <p class="text-gray-500 text-sm mt-2">Premium horology and artisan collections</p>
        </div>
      </footer>
    </div>
    
    <!-- SIMPLE Supabase Integration -->
    <script>
    // Supabase configuration
    const SUPABASE_URL = 'https://hwkotlfmxuczloonjziz.supabase.co';
    const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh3a290bGZteHVjemxvb25qeml6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkyMzE5ODUsImV4cCI6MjA4NDgwNzk4NX0.GUFuxE-xMBy4WawTWbiyCOWr3lcqNF7BoqQ55-UMe3Y';
    
    // Simple product loader
    async function loadProducts() {
      try {
        document.getElementById('product-list').innerHTML = '<p>Loading products from database...</p>';
        
        // Fetch products from Supabase
        const response = await fetch(`${SUPABASE_URL}/rest/v1/products?select=*`, {
          headers: {
            'apikey': SUPABASE_KEY,
            'Authorization': `Bearer ${SUPABASE_KEY}`
          }
        });
        
        if (!response.ok) throw new Error('Failed to fetch');
        
        const products = await response.json();
        
        if (products.length === 0) {
          document.getElementById('product-list').innerHTML = '<p>No products found in database.</p>';
          return;
        }
        
        // Display products
        let html = '<div class="space-y-4">';
        products.forEach(product => {
          html += `
            <div class="border p-4 rounded flex justify-between items-center">
              <div>
                <strong>${product.name || 'Unnamed Product'}</strong>
                <p class="text-sm text-gray-600">$${product.price || '0.00'}</p>
              </div>
              <div>
                <button onclick="deleteProduct('${product.id}')" class="bg-red-600 text-white px-3 py-1 rounded text-sm">
                  Delete
                </button>
              </div>
            </div>
          `;
        });
        html += '</div>';
        
        document.getElementById('product-list').innerHTML = html;
        
      } catch (error) {
        console.error('Error loading products:', error);
        document.getElementById('product-list').innerHTML = 
          `<p class="text-red-600">Error loading products: ${error.message}</p>`;
      }
    }
    
    // Delete product function
    async function deleteProduct(productId) {
      if (!confirm('Are you sure you want to delete this product?')) return;
      
      try {
        const response = await fetch(`${SUPABASE_URL}/rest/v1/products?id=eq.${productId}`, {
          method: 'DELETE',
          headers: {
            'apikey': SUPABASE_KEY,
            'Authorization': `Bearer ${SUPABASE_KEY}`
          }
        });
        
        if (response.ok) {
          alert('Product deleted successfully!');
          loadProducts(); // Reload the list
        } else {
          throw new Error('Delete failed');
        }
      } catch (error) {
        console.error('Delete error:', error);
        alert('Failed to delete product: ' + error.message);
      }
    }
    
    // Show admin section if URL has ?admin
    if (window.location.search.includes('admin')) {
      document.getElementById('admin-section').style.display = 'block';
    }
    
    // Page loaded successfully
    console.log('ITX SHOP MEER loaded successfully');
    </script>
    
    <!-- Basic error handling -->
    <script>
    window.addEventListener('error', function(e) {
      console.log('Error caught (non-critical):', e.message);
      // Don't prevent default - let page continue
    });
    
    // Page loaded message
    window.addEventListener('load', function() {
      console.log('✅ Page fully loaded and rendered');
    });
    
    // Immediate render confirmation
    document.addEventListener('DOMContentLoaded', function() {
      console.log('✅ DOM loaded - content visible');
    });
    </script>
  </body>
</html>
